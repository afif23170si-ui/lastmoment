# Enable CORS
<IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "POST, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type"
</IfModule>

# Protect uploads directory - only allow image access
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Block PHP execution in uploads folder
    RewriteRule ^uploads/.*\.php$ - [F,L]
</IfModule>

# Deny access to sensitive files
<FilesMatch "\.(htaccess|htpasswd|ini|log|sh|sql)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>
